{% extends "base.html" %}
{% block content %}
{{event.name}}
<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">Odd</th>
            <th scope="col">Prize</th>
            {% if user.is_authenticated %}
            <th scope="col"></th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for odd in event.odd_set.all %}
        {% if odd.prize %}
        <tr>
            <td>
                {{odd.name}}<span class="badge bg-info text-dark"></span>
            </td>
            <td>{{odd.prize}}</td>
            {% if user.is_authenticated %}
            <td>
                <form action="/events/{{event.id}}/bet" method="post">
                    {% csrf_token %}
                    {% if odd.id == user_bet.odd.id %}
                        <button name="odd" value={{odd.id}} type="submit" class="btn btn-success btn-sm" disabled>
                            <i class="bi bi-patch-check-fill"></i>
                        </button>
                    {% else %}
                        <button name="odd" value={{odd.id}} type="submit" class="btn btn-secondary btn-sm">
                            <i class="bi bi-plus-square"></i>
                        </button>
                    {% endif %}
                </form>
            </td>
            {% endif %}
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}